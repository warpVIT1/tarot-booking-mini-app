<!DOCTYPE html>
<html lang="ru">
<head>

    <!-- –î–û–ë–ê–í–¨–¢–ï –≠–¢–û –í –°–ï–ö–¶–ò–Æ <head> index.html –ü–ï–†–ï–î –ó–ê–ö–†–´–í–ê–Æ–©–ò–ú </head> -->

    <script>
        // –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–ê–Ø –û–ß–ò–°–¢–ö–ê –ó–ê–ì–†–£–ó–û–ß–ù–û–ì–û –≠–ö–†–ê–ù–ê
        document.addEventListener('DOMContentLoaded', function() {
        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–±–∏—Ä–∞–µ–º –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(function() {
         const loadingScreen = document.getElementById('loading-screen');
         const mainApp = document.getElementById('main-app');

         if (loadingScreen && loadingScreen.classList.contains('active')) {
               loadingScreen.classList.remove('active');
               if (mainApp) {
                  mainApp.classList.add('active');
               }
         }
     }, 4000);
     });

        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 6 —Å–µ–∫—É–Ω–¥
        setTimeout(function() {
            const loadingScreen = document.getElementById('loading-screen');
            const mainApp = document.getElementById('main-app');

            if (loadingScreen && loadingScreen.style.display !== 'none') {
                console.log('üîß –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Å–∫—Ä—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞');
                loadingScreen.style.display = 'none';

                if (mainApp) {
                    mainApp.style.display = 'block';
                    mainApp.classList.add('active');
                }
            }
        }, 6000); // 6 —Å–µ–∫—É–Ω–¥
    });

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä—ã—Ç–∏—è –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
    function skipLoading() {
        const loadingScreen = document.getElementById('loading-screen');
        const mainApp = document.getElementById('main-app');

        if (loadingScreen) {
            loadingScreen.classList.remove('active');
            loadingScreen.style.display = 'none';
        }

        if (mainApp) {
            mainApp.classList.add('active');
            mainApp.style.display = 'block';
        }

        console.log('‚ö° –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–æ–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é');
    }

    // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
    console.log('üîß –î–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: skipLoading()');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ø–∏—Å—å –∫ —Ç–∞—Ä–æ–ª–æ–≥—É</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="loading-screen" class="screen active">
        <div class="loading-container">
            <div class="app-logo">üîÆ</div>
            <h1>–ó–∞–ø–∏—Å—å –∫ —Ç–∞—Ä–æ–ª–æ–≥—É</h1>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="main-app" class="screen">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="app-header">
            <div class="user-info">
                <div class="avatar" id="user-avatar">üë§</div>
                <div class="user-details">
                    <h3 id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h3>
                    <p id="user-contact">–ö–ª–∏–µ–Ω—Ç</p>
                </div>
            </div>
            <div class="header-actions">
                <button class="icon-btn theme-toggle" onclick="toggleTheme()">üåô</button>
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="content">
            <!-- –í–∫–ª–∞–¥–∫–∞: –î–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è -->
            <div id="booking-tab" class="tab-content active">
                <div class="section-header">
                    <h2>üîÆ –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</h2>
                    <p>–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã –æ—Ç –Ω–∞—à–∏—Ö —Ç–∞—Ä–æ–ª–æ–≥–æ–≤</p>
                </div>

                <div id="available-slots" class="slots-grid">
                    <!-- –°–ª–æ—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>

                <!-- –§–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏ -->
                <div id="booking-form" class="booking-form" style="display: none;">
                    <!-- –§–æ—Ä–º–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Å–ª–æ—Ç–∞ -->
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ú–æ–∏ –∑–∞–ø–∏—Å–∏ -->
            <div id="bookings-tab" class="tab-content">
                <div class="section-header">
                    <h2>üìÖ –ú–æ–∏ –∑–∞–ø–∏—Å–∏</h2>
                    <p>–ò—Å—Ç–æ—Ä–∏—è –∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</p>
                </div>

                <div id="user-bookings" class="bookings-list">
                    <!-- –ó–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ü—Ä–æ—Ñ–∏–ª—å -->
            <div id="profile-tab" class="tab-content">
                <div class="section-header">
                    <h2>üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
                </div>

                <div id="profile-content">
                    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–æ—Ñ–∏–ª—è -->
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞: –†–µ—Ñ–µ—Ä–∞–ª—ã -->
            <div id="referral-tab" class="tab-content">
                <div class="section-header">
                    <h2>üéÅ –ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–∑–µ–π</h2>
                    <p>–ü–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∑–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ –¥—Ä—É–≥–∞</p>
                </div>

                <div id="referral-content">
                    <!-- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ -->
                </div>
            </div>
        </div>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <div class="nav">
            <button class="nav-btn active" data-tab="booking">
                <span class="nav-icon">üîÆ</span>
                <span class="nav-text">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</span>
            </button>
            <button class="nav-btn" data-tab="bookings">
                <span class="nav-icon">üìÖ</span>
                <span class="nav-text">–ú–æ–∏ –∑–∞–ø–∏—Å–∏</span>
            </button>
            <button class="nav-btn" data-tab="profile">
                <span class="nav-icon">üë§</span>
                <span class="nav-text">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
            <button class="nav-btn" data-tab="referral">
                <span class="nav-icon">üéÅ</span>
                <span class="nav-text">–†–µ—Ñ–µ—Ä–∞–ª—ã</span>
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="modal-overlay" class="modal-overlay">
        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notifications" class="notifications-container">
        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
    </div>

    <!-- JavaScript –º–æ–¥—É–ª–∏ -->
    <script src="js/config.js"></script>
    <script src="js/telegram.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/components.js"></script>
    <script src="js/booking.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/referral.js"></script>
    <script src="js/modal.js"></script>
    <script src="js/app.js"></script>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            // –§–æ—Ä—Å–∏—Ä—É–µ–º —Ä–æ–ª—å –∫–ª–∏–µ–Ω—Ç–∞
            CONFIG.FORCE_ROLE = CONFIG.USER_ROLES.CLIENT;

            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            App.init();
        });

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        function toggleTheme() {
    const body = document.body;
    const isDark = body.classList.contains('dark-theme');

            if (isDark) {
                body.classList.remove('dark-theme');
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.add('dark-theme');
                localStorage.setItem('theme', 'dark');
            }

            // Haptic feedback –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
            if (typeof TelegramApp !== 'undefined') {
                TelegramApp.hapticFeedback('selection');
            }
        }

        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            }
        });
    </script>
</body>
</html>